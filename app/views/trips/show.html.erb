<div class="margin-navbar"></div>

<h1 class="mx-5">
  <div class="d-flex gap-3 align-items-center mb-5">
    <%= @trip.title %>

    <% if @user_trip_bookmark.present? %>
      <!-- Si le bookmark est présent, afficher l'icône remplie avec un lien pour le retirer -->
      <%= button_to trip_bookmarks_path(@user_trip_bookmark), method: :delete, class: 'text-decoration-none' do %>
        <i class="fa-solid fa-bookmark active-bookmark"></i>
      <% end %>
    <% else %>
      <!-- Si le bookmark n'est pas présent, afficher l'icône vide avec un lien pour l'ajouter -->
      <%= button_to trip_bookmarks_path(trip_id: @trip.id), method: :post, class: 'text-decoration-none' do %>
        <i class="fa-regular fa-bookmark"></i>
      <% end %>
    <% end %>

  </div>
</h1>




<% @trip.steps.each do |step| %>
<% step.title %>
<% step.content %>
<!----><%# latitude = step.latitude%>
<%# longitude = step.longitude%>
<% end %>

<%# latitude1 = @trip.steps.first.latitude %>
<%# longitude1 = @trip.steps.first.longitude %>
<%# latitude2 = @trip.steps.last.latitude %>
<%# longitude2 = @trip.steps.last.longitude %>
<%# distance = Geocoder::Calculations.distance_between([latitude1, longitude1], [latitude2, longitude2]) %>
<%# "#{distance.to_i} km"%>


<%# <%= @trip.footprint %>
<%# <%= @trip.total_duration %>

<%# <div class="my-5 mx-5">
  <h2>Trip's Steps ___</h2>
</div> %>

<% @trip.steps.each do |step| %>
  <% if step.order.even? %>
    <%= render 'left_step_card', step: step %>
  <% else %>
    <%= render 'right_step_card', step: step %>
  <% end %>
<% end %>

<%# <div class="card-steps swiper-container" data-controller="card-swiper" data-card-swiper-target="cardsSteps">
  <div class="card-steps__wrp swiper-wrapper">
    <div class="card-steps__item swiper-slide">
      <div class="card-steps__img">
        <img src="https://images.pexels.com/photos/1670187/pexels-photo-1670187.jpeg?auto=compress&cs=tinysrgb&w=800">
      </div>
      <div class="card-steps__content">
        <span class="card-steps__code">Country</span>
        <h2>City / Step</h2>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Recusandae voluptate repellendus magni illo ea animi? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Recusandae voluptate repellendus magni illo ea animi?</p>
      </div>
    </div>
    <div class="card-steps__item swiper-slide">
      <div class="card-steps__img">
        <img src="https://images.pexels.com/photos/1670187/pexels-photo-1670187.jpeg?auto=compress&cs=tinysrgb&w=800">
      </div>
      <div class="card-steps__content">
        <span class="card-steps__code">Country</span>
        <h2 class="card-steps__title">City / Step</h2>
        <div class="card-steps__text">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Recusandae voluptate repellendus magni illo ea animi? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Recusandae voluptate repellendus magni illo ea animi?</div>
      </div>
    </div>
    <div class="card-steps__item swiper-slide">
      <div class="card-steps__img">
        <img src="https://images.pexels.com/photos/1670187/pexels-photo-1670187.jpeg?auto=compress&cs=tinysrgb&w=800">
      </div>
      <div class="card-steps__content">
        <span class="card-steps__code">Country</span>
        <h2 class="card-steps__title">City / Step</h2>
        <div class="card-steps__text">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Recusandae voluptate repellendus magni illo ea animi? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Recusandae voluptate repellendus magni illo ea animi?</div>
      </div>
    </div>
  </div>
  <div class="card-steps__pagination" data-card-swiper-target="cardStepsPagination"></div>
</div> %>
